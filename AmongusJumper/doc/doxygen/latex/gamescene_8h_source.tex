\hypertarget{gamescene_8h_source}{}\doxysection{gamescene.\+h}
\mbox{\hyperlink{gamescene_8h}{Aller à la documentation de ce fichier.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#ifndef GAMESCENE\_H}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#define GAMESCENE\_H}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{gamecanvas_8h}{gamecanvas.h}}"{}}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <QGraphicsScene>}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{class }\mbox{\hyperlink{class_sprite}{Sprite}};}
\DoxyCodeLine{15 \textcolor{keyword}{class }QGraphicsSimpleTextItem;}
\DoxyCodeLine{16 \textcolor{keyword}{class }QPainter;}
\DoxyCodeLine{17 }
\DoxyCodeLine{42 \textcolor{keyword}{class }\mbox{\hyperlink{class_game_scene}{GameScene}} : \textcolor{keyword}{public} QGraphicsScene}
\DoxyCodeLine{43 \{}
\DoxyCodeLine{44     Q\_OBJECT}
\DoxyCodeLine{45 \textcolor{keyword}{public}:}
\DoxyCodeLine{46     \mbox{\hyperlink{class_game_scene_add5bc48c372aaa7f526c02558a8adf00}{\string~GameScene}}();}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_a0a63f65536de7e4d07be813b48f8997c}{addSpriteToScene}}(\mbox{\hyperlink{class_sprite}{Sprite}}* pSprite);}
\DoxyCodeLine{49     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_a0a63f65536de7e4d07be813b48f8997c}{addSpriteToScene}}(\mbox{\hyperlink{class_sprite}{Sprite}}* pSprite, \textcolor{keywordtype}{double} posX, \textcolor{keywordtype}{double} posY);}
\DoxyCodeLine{50     \textcolor{comment}{//Ajoute}}
\DoxyCodeLine{51     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_a0a63f65536de7e4d07be813b48f8997c}{addSpriteToScene}}(\mbox{\hyperlink{class_sprite}{Sprite}}* pSprite, QPointF pos);}
\DoxyCodeLine{52     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_a23eea9fd7ee67e208919214ae3f32a3a}{removeSpriteFromScene}}(\mbox{\hyperlink{class_sprite}{Sprite}}* pSprite);}
\DoxyCodeLine{53     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_aebef432e21cc19f448998780a8d91c75}{removeAllSpriteFromScene}}();}
\DoxyCodeLine{54 }
\DoxyCodeLine{55     QList<Sprite*> \mbox{\hyperlink{class_game_scene_a1afbea38eb709b51019dcb1214446dc8}{collidingSprites}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_sprite}{Sprite}}* pSprite) \textcolor{keyword}{const};}
\DoxyCodeLine{56     QList<Sprite*> \mbox{\hyperlink{class_game_scene_a1afbea38eb709b51019dcb1214446dc8}{collidingSprites}}(\textcolor{keyword}{const} QRectF\& rRect) \textcolor{keyword}{const};}
\DoxyCodeLine{57     QList<Sprite*> \mbox{\hyperlink{class_game_scene_a1afbea38eb709b51019dcb1214446dc8}{collidingSprites}}(\textcolor{keyword}{const} QPainterPath\& rShape) \textcolor{keyword}{const};}
\DoxyCodeLine{58     QList<Sprite*> \mbox{\hyperlink{class_game_scene_adb1d95d4c9be4aec2012efef50192856}{sprites}}() \textcolor{keyword}{const};}
\DoxyCodeLine{59     \mbox{\hyperlink{class_sprite}{Sprite}}* \mbox{\hyperlink{class_game_scene_a6eb9e237cfa9dc35179b4afc151a45ba}{spriteAt}}(\textcolor{keyword}{const} QPointF\& rPosition) \textcolor{keyword}{const};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61     QGraphicsSimpleTextItem* \mbox{\hyperlink{class_game_scene_ae454327f278da29222a78a20e2c16571}{createText}}(QPointF initialPosition, \textcolor{keyword}{const} QString\& rText, \textcolor{keywordtype}{int} size = 10, QColor color=Qt::white);}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_a3a7084ae134f9cfc35eead8273d72d4b}{setBackgroundImage}}(\textcolor{keyword}{const} QImage\& rImage);}
\DoxyCodeLine{64     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_afa1f4704feee9fd390032d0f2cbf469c}{setBackgroundColor}}(QColor color);}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_a0744adccf2c7434c8feb0b5a8b49f9e5}{setWidth}}(\textcolor{keywordtype}{int} sceneWidth);}
\DoxyCodeLine{67     \textcolor{keywordtype}{int} width()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(sceneRect().width()); \}}
\DoxyCodeLine{68     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_a8e95ad54d19f490cb1a1b3252828524a}{setHeight}}(\textcolor{keywordtype}{int} sceneHeight);}
\DoxyCodeLine{69     \textcolor{keywordtype}{int} height()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(sceneRect().height()); \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_a0bfc0ba479a5b0388a737480e8871cbe}{registerSpriteForTick}}(\mbox{\hyperlink{class_sprite}{Sprite}}* pSprite);}
\DoxyCodeLine{72     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_aa40d3ff9e3b7c8296d91ef98d98358d1}{unregisterSpriteFromTick}}(\mbox{\hyperlink{class_sprite}{Sprite}}* pSprite);}
\DoxyCodeLine{73 }
\DoxyCodeLine{74     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_game_scene_a2cd089fb5992b2686c7b99989bdd0d45}{isInsideScene}}(\textcolor{keyword}{const} QPointF\& rPosition) \textcolor{keyword}{const};}
\DoxyCodeLine{75     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_game_scene_a2cd089fb5992b2686c7b99989bdd0d45}{isInsideScene}}(\textcolor{keyword}{const} QRectF\& rRect) \textcolor{keyword}{const};}
\DoxyCodeLine{76 }
\DoxyCodeLine{77     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_acd260c1d14c0a4176438e07eaf5e1b82}{tick}}(\textcolor{keywordtype}{long} \textcolor{keywordtype}{long} elapsedTimeInMilliseconds);}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 signals:}
\DoxyCodeLine{80     \textcolor{keywordtype}{void} spriteAddedToScene(\mbox{\hyperlink{class_sprite}{Sprite}}* pSprite);}
\DoxyCodeLine{81     \textcolor{keywordtype}{void} spriteRemovedFromScene(\mbox{\hyperlink{class_sprite}{Sprite}}* pSprite);}
\DoxyCodeLine{82 }
\DoxyCodeLine{83 \textcolor{keyword}{protected}:}
\DoxyCodeLine{84     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_scene_ab63ea1af6d198d5dba0c20216ba99f42}{drawBackground}}(QPainter* pPainter, \textcolor{keyword}{const} QRectF\& rRect);}
\DoxyCodeLine{85 }
\DoxyCodeLine{86 \textcolor{keyword}{private}:}
\DoxyCodeLine{87     \textcolor{comment}{// Seul GameCanvas est autorisé à instancier un GameScene, afin de garantir que}}
\DoxyCodeLine{88     \textcolor{comment}{// l'instanciation soit faite correctement.}}
\DoxyCodeLine{89     \textcolor{keyword}{friend} \mbox{\hyperlink{class_game_scene}{GameScene}}* \mbox{\hyperlink{class_game_canvas_ab207f2189a7a28a7024f8c05e6254451}{GameCanvas::createScene}}();}
\DoxyCodeLine{90     \textcolor{keyword}{friend} \mbox{\hyperlink{class_game_scene}{GameScene}}* \mbox{\hyperlink{class_game_canvas_ab207f2189a7a28a7024f8c05e6254451}{GameCanvas::createScene}}(\textcolor{keyword}{const} QRectF\& rSceneRect);}
\DoxyCodeLine{91     \textcolor{keyword}{friend} \mbox{\hyperlink{class_game_scene}{GameScene}}* \mbox{\hyperlink{class_game_canvas_ab207f2189a7a28a7024f8c05e6254451}{GameCanvas::createScene}}(qreal x, qreal y, qreal width, qreal height);}
\DoxyCodeLine{92 }
\DoxyCodeLine{93     \textcolor{keyword}{explicit} \mbox{\hyperlink{class_game_scene}{GameScene}}(QObject* pParent = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{94     \textcolor{keyword}{explicit} \mbox{\hyperlink{class_game_scene}{GameScene}}(\textcolor{keyword}{const} QRectF\& rSceneRect, QObject* pParent = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{95     \textcolor{keyword}{explicit} \mbox{\hyperlink{class_game_scene}{GameScene}}(qreal x, qreal y, qreal width, qreal height, QObject* pParent = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{96 }
\DoxyCodeLine{97     \textcolor{keywordtype}{void} init();}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     QImage* m\_pBackgroundImage;}
\DoxyCodeLine{100     QList<Sprite*> m\_registeredForTickSpriteList;}
\DoxyCodeLine{101 }
\DoxyCodeLine{102 \textcolor{keyword}{private} slots:}
\DoxyCodeLine{103     \textcolor{keywordtype}{void} onSpriteDestroyed(QObject* pSprite);}
\DoxyCodeLine{104 \};}
\DoxyCodeLine{105 }
\DoxyCodeLine{106 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// GAMESCENE\_H}}

\end{DoxyCode}
