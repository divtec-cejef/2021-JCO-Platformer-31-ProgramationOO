\hypertarget{class_game_canvas}{}\doxysection{Référence de la classe Game\+Canvas}
\label{class_game_canvas}\index{GameCanvas@{GameCanvas}}


Classe de gestion des scènes du jeu et de sa cadence.  




{\ttfamily \#include $<$gamecanvas.\+h$>$}



Graphe d\textquotesingle{}héritage de Game\+Canvas\+:
% FIG 0


Graphe de collaboration de Game\+Canvas\+:
% FIG 1
\doxysubsection*{Types publics}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_game_canvas_adb7601674515e62b496d57d87c6803e4}\label{class_game_canvas_adb7601674515e62b496d57d87c6803e4}} 
enum \{ {\bfseries KEEP\+\_\+\+PREVIOUS\+\_\+\+TICK\+\_\+\+INTERVAL} = -\/1
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Fonctions membres publiques}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_game_canvas_a43c7eb677a1e7f12c8d355116586872a}{Game\+Canvas}} (\mbox{\hyperlink{class_game_view}{Game\+View}} $\ast$p\+View, QObject $\ast$p\+Parent=nullptr)
\item 
\mbox{\hyperlink{class_game_canvas_ad5a4fae0a9e236dedb65f31dcb737805}{$\sim$\+Game\+Canvas}} ()
\item 
\mbox{\hyperlink{class_game_scene}{Game\+Scene}} $\ast$ \mbox{\hyperlink{class_game_canvas_ab207f2189a7a28a7024f8c05e6254451}{create\+Scene}} ()
\item 
\mbox{\hyperlink{class_game_scene}{Game\+Scene}} $\ast$ \mbox{\hyperlink{class_game_canvas_aa7d89e0272b6a869ab1071cef24fb93b}{create\+Scene}} (const QRectF \&r\+Scene\+Rect)
\item 
\mbox{\hyperlink{class_game_scene}{Game\+Scene}} $\ast$ \mbox{\hyperlink{class_game_canvas_a38ab131a4ad98421d2a4a700a69ae316}{create\+Scene}} (qreal x, qreal y, qreal width, qreal height)
\item 
\mbox{\Hypertarget{class_game_canvas_a326898c390ed700b827c33cf08e25009}\label{class_game_canvas_a326898c390ed700b827c33cf08e25009}} 
void {\bfseries set\+Current\+Scene} (\mbox{\hyperlink{class_game_scene}{Game\+Scene}} $\ast$p\+Scene)
\begin{DoxyCompactList}\small\item\em Change la scène de jeu actuellement affichée. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_game_scene}{Game\+Scene}} $\ast$ \mbox{\hyperlink{class_game_canvas_a7897fa78ef39001d1c7c37d737179647}{current\+Scene}} () const
\item 
void \mbox{\hyperlink{class_game_canvas_a102153a6332fa9af8cc956c126f6740c}{start\+Tick}} (int tick\+Interval=KEEP\+\_\+\+PREVIOUS\+\_\+\+TICK\+\_\+\+INTERVAL)
\item 
void \mbox{\hyperlink{class_game_canvas_aa484cf048075d69f85995e0816209087}{stop\+Tick}} ()
\item 
\mbox{\Hypertarget{class_game_canvas_ad5860302286c839400de803671076310}\label{class_game_canvas_ad5860302286c839400de803671076310}} 
\mbox{\hyperlink{class_game_view}{Game\+View}} $\ast$ {\bfseries get\+View} ()
\item 
\mbox{\Hypertarget{class_game_canvas_a7736798ad6218b4329bf4b29064f7d6a}\label{class_game_canvas_a7736798ad6218b4329bf4b29064f7d6a}} 
void {\bfseries start\+Mouse\+Tracking} ()
\begin{DoxyCompactList}\small\item\em Enclenche le suivi du déplacement de la souris. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_game_canvas_ae345211fcf3ad4e35b154c52ed963357}\label{class_game_canvas_ae345211fcf3ad4e35b154c52ed963357}} 
void {\bfseries stop\+Mouse\+Tracking} ()
\begin{DoxyCompactList}\small\item\em Déclenche le suivi du déplacement de la souris. \end{DoxyCompactList}\item 
QPointF \mbox{\hyperlink{class_game_canvas_a83d91283bfbbc81a7f1803bd794deeb0}{current\+Mouse\+Position}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Fonctions membres protégées}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_game_canvas_a091d65a6d0efef5265e805565ec36123}\label{class_game_canvas_a091d65a6d0efef5265e805565ec36123}} 
bool {\bfseries event\+Filter} (QObject $\ast$p\+Object, QEvent $\ast$p\+Event)
\begin{DoxyCompactList}\small\item\em Filtre et dispatch les événements intéressant de la scène. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Classe de gestion des scènes du jeu et de sa cadence. 

\mbox{\hyperlink{class_game_canvas}{Game\+Canvas}} prend en charge les différentes scènes constituant le jeu. Il est possible, au sein de \mbox{\hyperlink{class_game_core}{Game\+Core}}, de créer et gérer plusieurs scènes (des instances de \mbox{\hyperlink{class_game_scene}{Game\+Scene}}). Toutefois, une seule scène ne peut être affichée à la fois. Pour créer une scène, il faut utiliser la méthode \mbox{\hyperlink{class_game_canvas_ab207f2189a7a28a7024f8c05e6254451}{create\+Scene()}} de cette classe.

La méthode \mbox{\hyperlink{class_game_canvas_a326898c390ed700b827c33cf08e25009}{set\+Current\+Scene()}} permet d\textquotesingle{}indiquer quelle scène doit être affichée. La méthode \mbox{\hyperlink{class_game_canvas_a7897fa78ef39001d1c7c37d737179647}{current\+Scene()}} retourne la scène qui est actuellement affichée.

Par défaut, aucune scène n\textquotesingle{}est affichée. La méthode \mbox{\hyperlink{class_game_canvas_a326898c390ed700b827c33cf08e25009}{set\+Current\+Scene()}} doit être au moins appelée une fois par \mbox{\hyperlink{class_game_core}{Game\+Core}}.

Cette classe implémente également le mécanisme de cadence du jeu (le tick).

Pour démarrer le tick, utiliser la commande \mbox{\hyperlink{class_game_canvas_a102153a6332fa9af8cc956c126f6740c}{start\+Tick()}}. Dès que le tick est démarré, la méthode \mbox{\hyperlink{class_game_core_a012c0e539d2110f68a6dc187f6a2af0b}{Game\+Core\+::tick()}} est appelée régulièrement, toutes les 20 millisecondes par défaut.

Elle se charge alors d\textquotesingle{}appeler la méthode \mbox{\hyperlink{class_game_core_a012c0e539d2110f68a6dc187f6a2af0b}{Game\+Core\+::tick()}} et \mbox{\hyperlink{class_game_scene_acd260c1d14c0a4176438e07eaf5e1b82}{Game\+Scene\+::tick()}} de façon à ce que ces classes puissent réagir à la cadence.

Pour stopper le tick, utiliser la commande \mbox{\hyperlink{class_game_canvas_aa484cf048075d69f85995e0816209087}{stop\+Tick()}}.

\mbox{\hyperlink{class_game_canvas}{Game\+Canvas}} permet également d\textquotesingle{}enclencher le suivi des déplacements de la souris (\mbox{\hyperlink{class_game_canvas_a7736798ad6218b4329bf4b29064f7d6a}{start\+Mouse\+Tracking()}} et de le stopper (\mbox{\hyperlink{class_game_canvas_ae345211fcf3ad4e35b154c52ed963357}{stop\+Mouse\+Tracking()}}). 

\doxysubsection{Documentation des constructeurs et destructeur}
\mbox{\Hypertarget{class_game_canvas_a43c7eb677a1e7f12c8d355116586872a}\label{class_game_canvas_a43c7eb677a1e7f12c8d355116586872a}} 
\index{GameCanvas@{GameCanvas}!GameCanvas@{GameCanvas}}
\index{GameCanvas@{GameCanvas}!GameCanvas@{GameCanvas}}
\doxysubsubsection{\texorpdfstring{GameCanvas()}{GameCanvas()}}
{\footnotesize\ttfamily Game\+Canvas\+::\+Game\+Canvas (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_game_view}{Game\+View}} $\ast$}]{p\+View,  }\item[{QObject $\ast$}]{p\+Parent = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Construit le canvas de jeu, qui se charge de faire l\textquotesingle{}interface entre \mbox{\hyperlink{class_game_view}{Game\+View}}, \mbox{\hyperlink{class_game_scene}{Game\+Scene}} et \mbox{\hyperlink{class_game_core}{Game\+Core}}. 
\begin{DoxyParams}{Paramètres}
{\em p\+View} & La vue qui affiche les scènes du jeu. \\
\hline
{\em p\+Parent} & Objet parent. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_game_canvas_ad5a4fae0a9e236dedb65f31dcb737805}\label{class_game_canvas_ad5a4fae0a9e236dedb65f31dcb737805}} 
\index{GameCanvas@{GameCanvas}!````~GameCanvas@{$\sim$GameCanvas}}
\index{````~GameCanvas@{$\sim$GameCanvas}!GameCanvas@{GameCanvas}}
\doxysubsubsection{\texorpdfstring{$\sim$GameCanvas()}{~GameCanvas()}}
{\footnotesize\ttfamily Game\+Canvas\+::$\sim$\+Game\+Canvas (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Destructeur. 

\doxysubsection{Documentation des fonctions membres}
\mbox{\Hypertarget{class_game_canvas_ab207f2189a7a28a7024f8c05e6254451}\label{class_game_canvas_ab207f2189a7a28a7024f8c05e6254451}} 
\index{GameCanvas@{GameCanvas}!createScene@{createScene}}
\index{createScene@{createScene}!GameCanvas@{GameCanvas}}
\doxysubsubsection{\texorpdfstring{createScene()}{createScene()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_game_scene}{Game\+Scene}} $\ast$ Game\+Canvas\+::create\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Construit une scène de jeu et lui installe un filtre d\textquotesingle{}événements pour intercepter les événements clavier et souris. La scène créée n\textquotesingle{}est pas automatiquement affichée. \begin{DoxySeeAlso}{Voir également}
\mbox{\hyperlink{class_game_canvas_a326898c390ed700b827c33cf08e25009}{set\+Current\+Scene()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_game_canvas_aa7d89e0272b6a869ab1071cef24fb93b}\label{class_game_canvas_aa7d89e0272b6a869ab1071cef24fb93b}} 
\index{GameCanvas@{GameCanvas}!createScene@{createScene}}
\index{createScene@{createScene}!GameCanvas@{GameCanvas}}
\doxysubsubsection{\texorpdfstring{createScene()}{createScene()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_game_scene}{Game\+Scene}} $\ast$ Game\+Canvas\+::create\+Scene (\begin{DoxyParamCaption}\item[{const QRectF \&}]{r\+Scene\+Rect }\end{DoxyParamCaption})}

Construit une scène de jeu et lui installe un filtre d\textquotesingle{}événements pour intercepter les événements clavier et souris. La scène créée n\textquotesingle{}est pas automatiquement affichée. \begin{DoxySeeAlso}{Voir également}
\mbox{\hyperlink{class_game_canvas_a326898c390ed700b827c33cf08e25009}{set\+Current\+Scene()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_game_canvas_a38ab131a4ad98421d2a4a700a69ae316}\label{class_game_canvas_a38ab131a4ad98421d2a4a700a69ae316}} 
\index{GameCanvas@{GameCanvas}!createScene@{createScene}}
\index{createScene@{createScene}!GameCanvas@{GameCanvas}}
\doxysubsubsection{\texorpdfstring{createScene()}{createScene()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_game_scene}{Game\+Scene}} $\ast$ Game\+Canvas\+::create\+Scene (\begin{DoxyParamCaption}\item[{qreal}]{x,  }\item[{qreal}]{y,  }\item[{qreal}]{width,  }\item[{qreal}]{height }\end{DoxyParamCaption})}

Construit une scène de jeu et lui installe un filtre d\textquotesingle{}événements pour intercepter les événements clavier et souris. La scène créée n\textquotesingle{}est pas automatiquement affichée. \begin{DoxySeeAlso}{Voir également}
\mbox{\hyperlink{class_game_canvas_a326898c390ed700b827c33cf08e25009}{set\+Current\+Scene()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_game_canvas_a83d91283bfbbc81a7f1803bd794deeb0}\label{class_game_canvas_a83d91283bfbbc81a7f1803bd794deeb0}} 
\index{GameCanvas@{GameCanvas}!currentMousePosition@{currentMousePosition}}
\index{currentMousePosition@{currentMousePosition}!GameCanvas@{GameCanvas}}
\doxysubsubsection{\texorpdfstring{currentMousePosition()}{currentMousePosition()}}
{\footnotesize\ttfamily QPointF Game\+Canvas\+::current\+Mouse\+Position (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\begin{DoxyReturn}{Renvoie}
la position actuelle de la souris, dans le système de coordonnées de la scène actuelle. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_game_canvas_a7897fa78ef39001d1c7c37d737179647}\label{class_game_canvas_a7897fa78ef39001d1c7c37d737179647}} 
\index{GameCanvas@{GameCanvas}!currentScene@{currentScene}}
\index{currentScene@{currentScene}!GameCanvas@{GameCanvas}}
\doxysubsubsection{\texorpdfstring{currentScene()}{currentScene()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_game_scene}{Game\+Scene}} $\ast$ Game\+Canvas\+::current\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\begin{DoxyReturn}{Renvoie}
un pointeur sur la scène qui est actuellement affichée par \mbox{\hyperlink{class_game_view}{Game\+View}}. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_game_canvas_a102153a6332fa9af8cc956c126f6740c}\label{class_game_canvas_a102153a6332fa9af8cc956c126f6740c}} 
\index{GameCanvas@{GameCanvas}!startTick@{startTick}}
\index{startTick@{startTick}!GameCanvas@{GameCanvas}}
\doxysubsubsection{\texorpdfstring{startTick()}{startTick()}}
{\footnotesize\ttfamily void Game\+Canvas\+::start\+Tick (\begin{DoxyParamCaption}\item[{int}]{tick\+Interval = {\ttfamily KEEP\+\_\+PREVIOUS\+\_\+TICK\+\_\+INTERVAL} }\end{DoxyParamCaption})}

Démarre la génération d\textquotesingle{}un tick sur une base de temps régulière, donnée en paramètre. 
\begin{DoxyParams}{Paramètres}
{\em tick\+Interval} & Intervalle de temps (en millisecondes) entre chaque tick. Si cette valeur est inférieure à zéro, l\textquotesingle{}intervalle de temps précédent est utilisé. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_game_canvas_aa484cf048075d69f85995e0816209087}\label{class_game_canvas_aa484cf048075d69f85995e0816209087}} 
\index{GameCanvas@{GameCanvas}!stopTick@{stopTick}}
\index{stopTick@{stopTick}!GameCanvas@{GameCanvas}}
\doxysubsubsection{\texorpdfstring{stopTick()}{stopTick()}}
{\footnotesize\ttfamily void Game\+Canvas\+::stop\+Tick (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Arrête la génération du tick. 

La documentation de cette classe a été générée à partir du fichier suivant \+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{gamecanvas_8h}{gamecanvas.\+h}}\item 
\mbox{\hyperlink{gamecanvas_8cpp}{gamecanvas.\+cpp}}\end{DoxyCompactItemize}
